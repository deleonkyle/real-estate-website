<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="/static/assets/aframe.js"></script>
    <title>Panoramic Photo Viewer</title>
</head>
<body>
    <a-scene>
        <!-- Add the A-Frame camera entity for user interaction -->
        <a-entity camera look-controls>
            <a-cursor
                cursor="fuse: true; fuseTimeout: 500;"
                position="0 0 -1"
                geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                material="color: red; shader: flat"
            ></a-cursor>
        </a-entity>

        <!-- Use the a-sky to display the panoramic image -->
        {% if virtual_tour_images %}
            <a-sky src="{{ url_for('static', filename='uploads/' + virtual_tour_images[0][0]) }}"></a-sky>
        {% else %}
            <!-- Handle the case where no virtual tour images are found -->
            <p>No virtual tour images found.</p>
        {% endif %}

        <!-- Add more A-Frame images or hotspots for navigation -->
        <!-- Modify this section based on your needs -->

        <!-- Input controls -->
        <a-entity id="toggleButton" position="0 -1 -3" geometry="primitive: plane; width: 2; height: 0.2"
            material="color: #333; shader: flat" cursor-listener>
            <a-text value="Toggle Images" color="#fff" align="center" position="0 0 0.1"></a-text>
        </a-entity>

        <!-- Handle input control actions with a JavaScript component -->
        <a-entity id="imageContainer" image-switcher></a-entity>
    </a-scene>

    <script>
        AFRAME.registerComponent('cursor-listener', {
            // Define your cursor listener component if needed
        });

        AFRAME.registerComponent('image-switcher', {
            // Define your image switcher component if needed
        });
    </script>
</body>
</html>
